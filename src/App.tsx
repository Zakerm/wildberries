import React, { useState, useEffect } from "react";
import "./App.css";
import Footer from "./Components/Footer/Footer";
import Header from "./Components/Header/Header";
import HeaderBurger from "./Components/Header/HeaderBurger/HeaderBurger";
import SubMenu from "./Components/Header/HeaderBurger/SubMenu/SubMenu";
import Main from "./Components/Main/Main";
import FastUp from "./Components/FastUp/FastUp";
import FixedChat from "./Components/FixedChat/FixedChat";

const menuItems = [
  {
    id: "1111",
    href: "https://www.wildberries.ru/promotions/letnyaya-chernaya-pyatnitsa",
    text: "Чёрная пятница",
  },
  {
    id: "1234",
    href: "https://www.wildberries.ru/gift/certificates",
    text: "Сертификаты Wildberries",
  },
  {
    id: "306",
    text: "Женщинам",
    subItems: [
      "Блузки и рубашки",
      "Брюки",
      "Верхняя одежда",
      "Джемперы, водолазки и кардиганы",
      "Джинсы",
      "Комбинезоны",
      "Костюмы",
      "Лонгсливы",
      "Пиджаки, жилеты и жакеты",
      "Платья и сарафаны",
      "Толстовки, свитшоты и худи",
      "Туники",
      "Халаты",
      "Шорты",
      "Юбки",
      "Белье",
      "Большие размеры",
      "Будущие мамы",
      "Для невысоких",
      "Одежда для дома",
      "Офис",
      "Пляжная мода",
      "Религиозная",
      "Свадьба",
      "Спецодежда и СИЗы",
      "Подарки женщинам",
    ],
  },
  {
    id: "629",
    text: "Обувь",
    subItems: [
      "Детская",
      "Для новорожденных",
      "Женская",
      "Мужская",
      "Аксессуары для обуви",
    ],
  },
  {
    id: "115",
    text: "Детям",
    subItems: [
      "Для девочек",
      "Для мальчиков",
      "Для новорожденных",
      "Детская электроника",
      "Конструкторы",
      "Детский транспорт",
      "Детское питание",
      "Религиозная одежда",
      "Товары для малыша",
      "Подгузники",
      "Подарки детям",
    ],
  },
  {
    id: "566",
    text: "Мужчинам",
    subItems: [
      "Брюки",
      "Верхняя одежда",
      "Джемперы, водолазки и кардиганы",
      "Джинсы",
      "Комбинезоны и полукомбинезоны",
      "Костюмы",
      "Лонгсливы",
      "Майки",
      "Пиджаки, жилеты и жакеты",
      "Пижамы",
      "Рубашки",
      "Толстовки, свитшоты и худи",
      "Футболки",
      "Футболки-поло",
      "Шорты",
      "Белье",
      "Для высоких",
      "Для невысоких",
      "Одежда для дома",
      "Офис",
      "Пляжная одежда",
      "Религиозная",
      "Свадьба",
      "Спецодежда и СИЗы",
      "Подарки мужчинам",
    ],
  },
  {
    id: "258",
    text: "Дом",
    subItems: [
      "Ванная",
      "Кухня",
      "Предметы интерьера",
      "Спальня",
      "Гостиная",
      "Детская",
      "Досуг и творчество",
      "Все для праздника",
      "Зеркала",
      "Коврики",
      "Кронштейны",
      "Освещение",
      "Для курения",
      "Отдых на природе",
      "Парфюмерия для дома",
      "Прихожая",
      "Религия, эзотерика",
      "Сувенирная продукция",
      "Хозяйственные товары",
      "Хранение вещей",
      "Цветы, вазы и кашпо",
      "Шторы",
    ],
  },
  {
    id: "543",
    text: "Красота",
    subItems: [
      "Аксессуары",
      "Волосы",
      "Аптечная косметика",
      "Детская декоративная косметика",
      "Для загара",
      "Для мам и малышей",
      "Израильская косметика",
      "Инструменты для парикмахеров",
      "Корейские бренды",
      "Косметические аппараты и аксессуары",
      "Крымская косметика",
      "Макияж",
      "Мужская линия",
      "Наборы для ухода",
      "Ногти",
      "Органическая косметика",
      "Парфюмерия",
      "Подарочные наборы",
      "Профессиональная косметика",
      "Средства личной гигиены",
      "Гигиена полости рта",
      "Уход за кожей",
      "Мебель для салонов красоты",
    ],
  },
  {
    id: "1",
    text: "Аксессуары",
    subItems: [
      "Аксессуары для волос",
      "Аксессуары для одежды",
      "Бижутерия",
      "Ювелирные изделия",
      "Веера",
      "Галстуки и бабочки",
      "Головные уборы",
      "Зеркальца",
      "Зонты",
      "Кошельки и кредитницы",
      "Маски для сна",
      "Носовые платки",
      "Очки и футляры",
      "Перчатки и варежки",
      "Платки и шарфы",
      "Религиозные",
      "Ремни и пояса",
      "Сумки и рюкзаки",
      "Часы и ремешки",
      "Чемоданы и защита багажа",
    ],
  },
  {
    id: "4830",
    text: "Электроника",
    subItems: [
      "Автоэлектроника и навигация",
      "Гарнитуры и наушники",
      "Детская электроника",
      "Игровые консоли и игры",
      "Кабели и зарядные устройства",
      "Музыка и видео",
      "Ноутбуки и компьютеры",
      "Офисная техника",
      "Развлечения и гаджеты",
      "Сетевое оборудование",
      "Системы безопасности",
      "Смартфоны и телефоны",
      "Смарт-часы и браслеты",
      "Солнечные электростанции и комплектующие",
      "ТВ, Аудио, Фото, Видео техника",
      "Торговое оборудование",
      "Умный дом",
      "Электротранспорт и аксессуары",
    ],
  },
  {
    id: "481",
    text: "Игрушки",
    subItems: [
      "Антистресс",
      "Для малышей",
      "Для песочницы",
      "Игровые комплексы",
      "Игровые наборы",
      "Игрушечное оружие и аксессуары",
      "Игрушечный транспорт",
      "Игрушки для ванной",
      "Интерактивные",
      "Кинетический песок",
      "Конструкторы",
      "Конструкторы LEGO",
      "Куклы и аксессуары",
      "Музыкальные",
      "Мыльные пузыри",
      "Мягкие игрушки",
      "Наборы для опытов",
      "Настольные игры",
      "Радиоуправляемые",
      "Развивающие игрушки",
      "Сборные модели",
      "Спортивные игры",
      "Сюжетно-ролевые игры",
      "Творчество и рукоделие",
      "Фигурки и роботы",
    ],
  },
  {
    id: "62827",
    text: "Мебель",
    subItems: [
      "Мебель для хранения",
      "Бескаркасная мебель",
      "Детская мебель",
      "Диваны и кресла",
      "Столы и стулья",
      "Компьютерная и геймерская мебель",
      "Мебель для гостиной",
      "Мебель для кухни",
      "Мебель для прихожей",
      "Мебель для спальни",
      "Гардеробная мебель",
      "Офисная мебель",
      "Садовая мебель",
      "Торговая мебель",
      "Мебель для салонов красоты",
      "Зеркала",
      "Мебельная фурнитура",
    ],
  },
  {
    id: "62057",
    text: "Товары для взрослых",
    subItems: [
      "Белье и аксессуары",
      "Игры и сувениры",
      "Интимная косметика",
      "Интимная съедобная косметика",
      "Презервативы и лубриканты",
      "Секс игрушки",
      "Фетиш и БДСМ",
    ],
  },
  {
    id: "10296",
    text: "Продукты",
    subItems: [
      "Вкусные подарки",
      "Подарочные наборы продуктов",
      "Чай и кофе",
      "Сладости и хлебобулочные изделия",
      "Бакалея",
      "Детское питание",
      "Добавки пищевые",
      "Здоровое питание",
      "Мясная продукция",
      "Молочные продукты",
      "Напитки",
      "Снеки",
      "Смеси для десертов",
      "Фрукты и ягоды",
      "Овощи",
    ],
  },
  {
    id: "16107",
    text: "Бытовая техника",
    subItems: [
      "Климатическая техника",
      "Красота и здоровье",
      "Садовая техника",
      "Техника для дома",
      "Техника для кухни",
      "Крупная бытовая техника",
    ],
  },
  {
    id: "6119",
    text: "Зоотовары",
    subItems: [
      "Для кошек",
      "Для собак",
      "Для птиц",
      "Для грызунов и хорьков",
      "Для лошадей",
      "Аквариумистика",
      "Террариумистика",
      "Фермерство",
      "Корм и лакомства",
      "Аксессуары для кормления",
      "Лотки и наполнители",
      "Когтеточки и домики",
      "Транспортировка",
      "Амуниция и дрессировка",
      "Игрушки",
      "Груминг и уход",
      "Одежда",
      "Ветаптека",
    ],
  },
  {
    id: "784",
    text: "Спорт",
    subItems: [
      "Фитнес и тренажеры",
      "Велоспорт",
      "Йога/Пилатес",
      "Охота и рыбалка",
      "Самокаты/Ролики/Скейтборды",
      "Туризм/Походы",
      "Бег/Ходьба",
      "Командные виды спорта",
      "Водные виды спорта",
      "Зимние виды спорта",
      "Поддержка и восстановление",
      "Спортивное питание и косметика",
      "Бадминтон/Теннис",
      "Бильярд/Гольф/Дартс/Метание ножей",
      "Единоборства",
      "Конный спорт",
      "Мотоспорт",
      "Оборудование для сдачи нормативов",
      "Парусный спорт",
      "Скалолазание/Альпинизм",
      "Страйкбол и пейнтбол",
      "Танцы/Гимнастика",
      "Для детей",
      "Для женщин",
      "Для мужчин",
      "Спортивная обувь",
      "Товары для самообороны",
      "Электроника",
    ],
  },
  {
    id: "6994",
    text: "Автотовары",
    subItems: [
      "Шины и диски колесные",
      "Запчасти на легковые автомобили",
      "Масла и жидкости",
      "Автокосметика и автохимия",
      "Краски и грунтовки",
      "Автоэлектроника и навигация",
      "Аккумуляторы и сопутствующие товары",
      "Аксессуары в салон и багажник",
      "Коврики",
      "Внешний тюнинг",
      "Другие аксессуары и доп. оборудование",
      "Инструменты",
      "Мойки высокого давления и аксессуары",
      "Мототовары",
      "OFFroad",
      "Запчасти на силовую технику",
      "Запчасти для лодок и катеров",
    ],
  },
  {
    id: "130624",
    href: "https://www.wildberries.ru/catalog/transportnye-sredstva",
    text: "Транспортные средства",
    subItems: ["Автомобили", "Мототехника", "Водомоторная техника", "Прицепы"],
  },
  {
    id: "519",
    text: "Книги",
    subItems: [
      "Художественная литература",
      "Комиксы и манга",
      "Книги для детей",
      "Воспитание и развитие ребенка",
      "Образование",
      "Самообразование и развитие",
      "Бизнес и менеджмент",
      "Хобби и досуг",
      "Астрология и эзотерика",
      "Дом, сад и огород",
      "Красота, здоровье и спорт",
      "Научно-популярная литература",
      "Интернет и технологии",
      "Литературоведение и публицистика",
      "Историческая и военная литература",
      "Философия",
      "Религия",
      "Политика и право",
      "Букинистика",
      "Книги на иностранных языках",
      "Плакаты",
      "Календари",
      "Коллекционные издания",
      "Репринтные издания",
      "Мультимедиа",
      "Аудиокниги",
      "Цифровые книги",
      "Цифровые аудиокниги",
    ],
  },
  {
    id: "1023",
    text: "Ювелирные изделия",
    subItems: [
      "Кольца",
      "Серьги",
      "Браслеты",
      "Подвески и шармы",
      "Комплекты",
      "Колье, цепи, шнурки",
      "Броши",
      "Пирсинг",
      "Часы",
      "Зажимы, запонки, ремни",
      "Четки",
      "Сувениры и столовое серебро",
      "Украшения из золота",
      "Украшения из серебра",
      "Украшения из керамики",
      "Аксессуары для украшений",
    ],
  },
  {
    id: "17006",
    text: "Для ремонта",
    subItems: [
      "Колеровка краски",
      "Двери, окна и фурнитура",
      "Инструменты и оснастка",
      "Отделочные материалы",
      "Электрика",
      "Лакокрасочные материалы",
      "Сантехника, отопление и газоснабжение",
      "Вентиляция",
      "Крепеж",
      "Стройматериалы",
    ],
  },
  {
    id: "4863",
    text: "Сад и дача",
    subItems: [
      "Растения, семена и грунты",
      "Удобрения и уход за растениями",
      "Горшки, кашпо и подставки для растений",
      "Мойки высокого давления и аксессуары",
      "Садовая техника",
      "Садовый инструмент",
      "Теплицы, парники, укрывной материал",
      "Грили, мангалы и барбекю",
      "Бассейны",
      "Полив и водоснабжение",
      "Надувная мебель",
      "Садовый декор",
      "Биотуалеты, дачные умывальники и души",
      "Товары для кемпинга, пикника и отдыха",
      "Мебель для отдыха",
      "Товары для бани и сауны",
      "Защита от насекомых и грызунов",
    ],
  },
  {
    id: "10326",
    text: "Здоровье",
    subItems: [
      "БАДы",
      "Грибы сушеные и капсулированные",
      "Дезинфекция, стерилизация и утилизация",
      "Ухо, горло, нос",
      "Контрацептивы и лубриканты",
      "Лечебное питание ",
      "Маски защитные",
      "Медицинские изделия",
      "Медицинские приборы",
      "Оздоровление",
      "Оптика",
      "Ортопедия",
      "Реабилитация",
      "Сиропы и бальзамы",
      "Уход за полостью рта",
    ],
  },
  {
    id: "5486",
    text: "Канцтовары",
    subItems: [
      "Анатомические модели",
      "Бумажная продукция",
      "Карты и глобусы",
      "Офисные принадлежности",
      "Письменные принадлежности",
      "Рисование и лепка",
      "Счетный материал",
      "Торговые принадлежности",
      "Чертежные принадлежности",
    ],
  },
  {
    id: "131111",
    text: "Культурный код",
    subItems: ["Культурный код", "Народные Промыслы"],
  },
  { id: "2192", href: "https://www.wildberries.ru/promotions", text: "Акции" },
  {
    id: "62813",
    href: "https://digital.wildberries.ru",
    text: "Цифровые товары",
    subItems: [
      "Электронные Книги",
      "Аудиокниги",
      "Ключи и сертификаты",
      "Фильмы и видео",
      "Музыка и аудио",
      "Журналы",
      "Цифровые товары",
      "Услуги",
    ],
  },
  {
    id: "61037",
    href: "https://vmeste.wildberries.ru/",
    text: "Путешествия",
    subItems: [
      "Авиабилеты",
      "Впечатления",
      "Ж/д билеты",
      "Автобусы",
      "Маршруты",
      "Отели",
      "Регионы",
      "Туры",
    ],
  },
];

function App() {
  const [isBurgerVisible, setBurgerVisible] = useState(false);
  const [activeItemId, setActiveItemId] = useState<string | null>(null);
  const [isSubMenuVisible, setSubMenuVisible] = useState(true);

  const toggleBurgerMenu = () => {
    setBurgerVisible(!isBurgerVisible);
    setSubMenuVisible(false);
  };

  useEffect(() => {
    if (isBurgerVisible) {
      document.body.classList.add("body__overflow");
    } else {
      document.body.classList.remove("body__overflow");
    }
  }, [isBurgerVisible]);

  const activeItem = menuItems.find((item) => item.id === activeItemId);

  return (
    <div className="App">
      <header className="App-header">
        <Header toggleBurgerMenu={toggleBurgerMenu} />
      </header>
      <FastUp />
      <FixedChat />
      {isBurgerVisible && (
        <HeaderBurger
          menuItems={menuItems}
          setActiveItemId={setActiveItemId}
          activeItemId={activeItemId}
          setSubMenuVisible={setSubMenuVisible}
        />
      )}
      {isSubMenuVisible && activeItem && activeItem.subItems && (
        <SubMenu items={activeItem.subItems} text={activeItem.text} />
      )}
      <Main />
      <Footer />
    </div>
  );
}

export default App;
